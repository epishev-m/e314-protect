# E314.Protect

## Описание

Модуль `E314.Protect` предоставляет методы для проверки входных данных и условий.
Он предотвращает ошибки, вызванные некорректными данными, выбрасывая исключения с информативными сообщениями.

## Содержание

- [E314.Protect](#e314protect)
  - [Описание](#описание)
  - [Содержание](#содержание)
  - [Requires](#requires)
    - [Проверка параметров метода](#проверка-параметров-метода)
    - [Проверка состояния объекта](#проверка-состояния-объекта)
    - [Проверка коллекций](#проверка-коллекций)
    - [Комбинированные проверки](#комбинированные-проверки)
    - [Обработка исключений](#обработка-исключений)

## Requires

Статический класс `Requires` предоставляет методы для проверки входных данных и условий. При неудачной проверке выбрасывается соответствующее исключение.

### Проверка параметров метода

Используйте методы `NotNull`, `NotEmpty` и `InRange` для проверки входных параметров в публичных методах.

Когда использовать:

- `NotNull`: Если параметр не должен быть `null`. Пример: объекты, строки или коллекции.
- `NotEmpty`: Если строка или коллекция не должна быть пустой. Пример: имя пользователя, список элементов.
- `InRange`: Если числовое значение должно находиться в определённом диапазоне. Пример: уровень здоровья, прогресс.

```csharp
public void SetPlayerName(string name)
{
    Requires.NotEmpty(name, nameof(name));
    ...
}

public void SetHealth(int health)
{
    Requires.InRange(health, 0, 100, nameof(health));
    // ...
}
```

### Проверка состояния объекта

Используйте метод `Ensure`, чтобы проверить внутреннее состояние объекта перед выполнением операций.

Когда использовать:

- Если метод зависит от предварительной инициализации объекта.
- Если нужно убедиться, что объект находится в корректном состоянии.

```csharp
public void PerformAction()
{
    Requires.Ensure(IsInitialized, "Object must be initialized before use.");
    // ...
}
```

### Проверка коллекций

Используйте методы `NotEmpty` и `NoNullElements` для проверки коллекций.

Когда использовать:

- `NotEmpty`: Если коллекция должна содержать хотя бы один элемент. Пример: список игроков, инвентарь.
- `NoNullElements`: Если коллекция не должна содержать `null` элементы. Пример: активные задачи, объекты.

```csharp
public void ProcessItems(IEnumerable<string> items)
{
    Requires.NotEmpty(items, nameof(items));
    Requires.NoNullElements(items, nameof(items)); 
    // ...
}
```

### Комбинированные проверки

Для сложных методов можно комбинировать несколько проверок, чтобы обеспечить корректность всех входных данных.

Когда использовать:

- Если метод принимает несколько параметров, каждый из которых требует своей проверки.

```csharp
public void InitializeGame(string playerName, int level, IEnumerable<string> inventory)
{
    Requires.NotEmpty(playerName, nameof(playerName));
    Requires.InRange(level, 1, 50, nameof(level));
    Requires.NotEmpty(inventory, nameof(inventory));
    Requires.NoNullElements(inventory, nameof(inventory));
    // ...
}
```

### Обработка исключений

Добавьте блок try-catch для обработки исключений, выбрасываемых методами Requires.

Когда использовать:

- Если метод может выбросить исключение, и нужно предоставить пользователю понятное сообщение.

```csharp
try
{
    SetPlayerName("");
}
catch (ArgumentException ex)
{
    Debug.LogError($"Error: {ex.Message}");
}
// ...
```
